{"ast":null,"code":"import _slicedToArray from\"/Users/kemalkazanc/Desktop/Projet11_Kasa/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from\"react\";import{FetchContext}from\"../context/FetchContext\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Collapsible=function Collapsible(){var _useState=useState(-1),_useState2=_slicedToArray(_useState,2),openIndex=_useState2[0],setOpenIndex=_useState2[1];// -1 signifie que toutes les divs sont fermées\nvar _useContext=useContext(FetchContext),appartData=_useContext.appartData;var _useParams=useParams(),id=_useParams.id;// Récupère les données de l'appartement correspondant à l'ID\nvar appart=appartData.find(function(item){return item.id===id;});var _onClick=function onClick(index){if(openIndex===index){setOpenIndex(-1);// si la même div est cliquée, on la ferme\n}else{setOpenIndex(index);}};return/*#__PURE__*/_jsx(_Fragment,{children:appart&&/*#__PURE__*/_jsxs(\"section\",{className:\"collapsible\",children:[/*#__PURE__*/_jsxs(\"article\",{className:\"collapsible__article\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return _onClick(0);},className:\"collapsible__visible\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"collapsible__title\",children:\"Description\"}),/*#__PURE__*/_jsx(\"em\",{className:\"collapsible__chevron fas fa-chevron-\".concat(openIndex===0?'up':'down')})]}),appart.description&&/*#__PURE__*/_jsx(\"div\",{className:\"collapsible__container \".concat(openIndex===0?\"\":\"isClosed\"),children:/*#__PURE__*/_jsx(\"p\",{className:\"collapsible__content\",children:appart.description})})]}),/*#__PURE__*/_jsxs(\"article\",{className:\"collapsible__article\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return _onClick(1);},className:\"collapsible__visible\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"collapsible__title\",children:\"\\xC9quipements\"}),/*#__PURE__*/_jsx(\"em\",{className:\"collapsible__chevron fas fa-chevron-\".concat(openIndex===1?'up':'down')})]}),appart.equipments.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"collapsible__container \".concat(openIndex===1?\"\":\"isClosed\"),children:appart.equipments.map(function(equipements,index){return/*#__PURE__*/_jsx(\"p\",{className:\"collapsible__content\",children:equipements},equipements);})})]})]})});};export default Collapsible;","map":{"version":3,"names":["React","useState","useContext","FetchContext","useParams","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Collapsible","_useState","_useState2","_slicedToArray","openIndex","setOpenIndex","_useContext","appartData","_useParams","id","appart","find","item","onClick","index","children","className","concat","description","equipments","length","map","equipements"],"sources":["/Users/kemalkazanc/Desktop/Projet11_Kasa/src/components/Collapsible.jsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { FetchContext } from \"../context/FetchContext\";\nimport { useParams } from \"react-router-dom\";\n\nconst Collapsible = () => {\n  const [openIndex, setOpenIndex] = useState(-1); // -1 signifie que toutes les divs sont fermées\n  const { appartData } = useContext(FetchContext);\n  const { id } = useParams();\n\n  // Récupère les données de l'appartement correspondant à l'ID\n  const appart = appartData.find((item) => item.id === id);\n\n  const onClick = (index) => {\n    if (openIndex === index) {\n      setOpenIndex(-1); // si la même div est cliquée, on la ferme\n    } else {\n      setOpenIndex(index);\n    }\n  };\n\n  return (\n    <>\n      {appart && (\n        <section className=\"collapsible\">\n          <article className=\"collapsible__article\">\n            <div onClick={() => onClick(0)} className=\"collapsible__visible\">\n              <h3 className=\"collapsible__title\">Description</h3>\n              <em className={`collapsible__chevron fas fa-chevron-${openIndex === 0 ? 'up' : 'down'}`}></em>\n            </div>\n            {appart.description && (\n              <div\n                className={`collapsible__container ${openIndex === 0 ? \"\" : \"isClosed\"}`}\n              >\n                <p className=\"collapsible__content\">{appart.description}</p>\n              </div>\n            )}\n          </article>\n\n          <article className=\"collapsible__article\">\n            <div onClick={() => onClick(1)} className=\"collapsible__visible\">\n              <h3 className=\"collapsible__title\">Équipements</h3>\n              <em className={`collapsible__chevron fas fa-chevron-${openIndex === 1 ? 'up' : 'down'}`}></em>\n            </div>\n            {appart.equipments.length > 0 && (\n              <div\n                className={`collapsible__container ${openIndex === 1 ? \"\" : \"isClosed\"}`}\n              >\n                {appart.equipments.map((equipements, index) => (\n                  <p key={equipements} className=\"collapsible__content\">\n                    {equipements}\n                  </p>\n                ))}\n              </div>\n            )}\n          </article>\n        </section>\n      )}\n    </>\n  );\n};\n\nexport default Collapsible;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}